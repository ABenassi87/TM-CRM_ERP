<h3 class="page-title" ng-init="findOne()">
    <i class="fa fa-user font-blue-madison"></i> @(users:UserCard) {{user.fullname}} <small> @(From) {{user.createdAt| date:'@(main:date.format.java.dayhour)'}}</small> 
</h3>

<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a ui-sref="home">@(Home)</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a ui-sref="user.list" >@(users:ListOfUsers)</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <span>{{user.username}}</span>
        </li>
    </ul>
    <div class="page-toolbar">
        <div class="btn-group pull-right">
            <button type="button" class="btn btn-fit-height grey-salt dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-delay="1000" data-close-others="true">
                @(Tools) <i class="fa fa-angle-down"></i>
            </button>
            <ul class="dropdown-menu pull-right" role="menu">
                <li>
                    <a href="#" class="font-red" ng-show="login.rights.user.delete" confirmed-click="remove(user)" ng-confirm-click="Supprimer l'utilisateur ?" title="Supprimer l'utilisateur">
                        <i class="fa fa-trash-o font-red"></i>
                        @(Delete)
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>




<div class="row">
    <div class="col-md-4 col-sm-12">
        <form editable-form name="editableUser" onaftersave="update()">
            <div class="portlet blue-madison box">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-user"></i>@(users:UserCard)
                    </div>
                    <div class="actions">
                        <a href="javascript:;" ng-click="editableUser.$show()" ng-show="!editableUser.$visible && editable" class="btn btn-default btn-sm">
                            <i class="fa fa-pencil"></i> @(Edit) </a>
                    </div>
                    <div class="actions" ng-show="editableUser.$visible">
                        <button type="submit" ng-disabled="editableUser.$waiting" class="btn btn-default btn-sm">@(Save)</button>
                        <button type="button" ng-disabled="editableUser.$waiting" ng-click="editableUser.$cancel();
                            findOne();" class="btn btn-default btn-sm">@(Cancel)</button>
                    </div>
                </div>
                <div class="portlet-body">

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:LastName) :</div>
                        <div class="col-md-8 value">
                            <span class="blue h5" editable-text="user.lastname">
                                {{user.lastname|| "Non defini"}}
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:FirstName) :</div>
                        <div class="col-md-8 value">
                            <span class="blue h5" editable-text="user.firstname">
                                {{user.firstname}}
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(Status) :</div>
                        <div class="col-md-8 value">
                            <span editable-select="user.Status" e-ng-options="s.id as s.label for s in dict.fk_user_status.values">
                                <small class="label label-sm" ng-class="user.status.css">{{user.status.name || '--'}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(Entity) :</div>
                        <div class="col-md-8 value">
                            <small class="label label-sm label-default">{{user.entity}}</small>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(Group) :</div>
                        <div class="col-md-8 value">
                            <span editable-select="user.group" onshow="loadGroup()" e-ng-options="group as group.name for group in groups track by group.id">
                                <small class="label label-sm label-default">{{user.group.name|| 'Aucun groupe'}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(Password) :</div>
                        <div class="col-md-8 value">
                            <span editable-text="user.password">
                            </span> 
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(Email) :</div>
                        <div class="col-md-8 value">
                            <span class="blue h5" editable-text="user.email">
                                {{user.email|| "Non defini"}}
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(Phone) :</div>
                        <div class="col-md-8 value">
                            <span class="blue h5" editable-text="user.Phone">
                                {{user.Phone|| "Non defini"}}
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(TelMobile) :</div>
                        <div class="col-md-8 value">
                            <span class="blue h5" editable-text="user.MobilePhone">
                                {{user.MobilePhone|| "Non defini"}}
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(Address) :</div>
                        <div class="col-md-8 value">
                            <span class="blue h5" editable-text="user.Address">
                                {{user.Address|| "Non defini"}}
                            </span>
                        </div>
                    </div>


                    <div class="row static-info">
                        <div class="col-md-4 name">@(DateLastModification) :</div>
                        <div class="col-md-8 value">
                            {{user.updatedAt|date:'dd/MM/yyyy HH:mm'}}
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>


    <div class="col-md-4 col-sm-12">
        <form editable-form name="editableUserCivility" onaftersave="update()">
            <div class="portlet gen">

                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-user"></i>@(users:Civility)
                    </div>
                    <div class="actions">
                        <a href="javascript:;" ng-click="editableUserCivility.$show()" ng-show="!editableUserCivility.$visible && editable" class="btn btn-default btn-sm">
                            <i class="fa fa-pencil"></i> @(Edit) </a>
                    </div>
                    <div class="actions" ng-show="editableUserCivility.$visible">
                        <button type="submit" ng-disabled="editableUserCivility.$waiting" class="btn btn-default btn-sm">@(Save)</button>
                        <button type="button" ng-disabled="editableUserCivility.$waiting" ng-click="editableUserCivility.$cancel();
                            findOne();" class="btn btn-default btn-sm">@(Cancel)</button>
                    </div>
                </div>

                <div class="portlet-body">
                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:BirthDate) :</div>
                        <div class="col-md-8 value">
                            <span class="blue h5" editable-text="user.BirthDate">
                                {{(user.BirthDate|date:"dd/MM/yyyy")}}
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:CityOfBirth) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.CityOfBirth">
                                <small class="label label-sm label-default">{{user.CityOfBirth}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:CountryOfBirth) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.CountryOfBirth">
                                <small class="label label-sm label-default">{{user.CountryOfBirth}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:Nationality) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.Nationality">
                                <small class="label label-sm label-default">{{user.Nationality}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:Situation) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.Situation">
                                <small class="label label-sm label-default">{{user.Situation}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:Children) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.Children">
                                <small class="label label-sm label-default">{{user.Children}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:PerCharges) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.PerCharges">
                                <small class="label label-sm label-default">{{user.PerCharges}}</small>
                            </span>
                        </div>
                    </div>  
                </div>
            </div>

            <div class="portlet gen">

                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-user"></i>@(users:Informations)
                    </div>
                </div>

                <div class="portlet-body">
                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:SocialeSecurityNumber) :</div>
                        <div class="col-md-8 value">
                            <span class="blue h5" editable-text="user.SocialeSecurityNumber">
                                {{user.SocialeSecurityNumber}}
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:AccountStatement) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.AccountStatement">
                                <small class="label label-sm label-default">{{user.AccountStatement}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:IBAN) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.IBAN">
                                <small class="label label-sm label-default">{{user.IBAN}}</small>
                            </span>
                        </div>
                    </div>

                </div>
            </div>  
        </form>
    </div>

    <div class="col-md-4 col-sm-12">
        <form editable-form name="editableUserEmploi" onaftersave="update()">
            <div class="portlet gen">

                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-user"></i>@(users:Emploi)
                    </div>
                    <div class="actions">
                        <a href="javascript:;" ng-click="editableUserEmploi.$show()" ng-show="!editableUserEmploi.$visible && editable" class="btn btn-default btn-sm">
                            <i class="fa fa-pencil"></i> @(Edit) </a>
                    </div>
                    <div class="actions" ng-show="editableUserEmploi.$visible">
                        <button type="submit" ng-disabled="editableUserEmploi.$waiting" class="btn btn-default btn-sm">@(Save)</button>
                        <button type="button" ng-disabled="editableUserEmploi.$waiting" ng-click="editableUserEmploi.$cancel();
                            findOne();" class="btn btn-default btn-sm">@(Cancel)</button>
                    </div>
                </div>

                <div class="portlet-body">
                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:ArrivalDate) :</div>
                        <div class="col-md-8 value">
                            <span class="blue h5" editable-text="user.ArrivalDate">
                                {{(user.ArrivalDate|date:"dd/MM/yyyy")}}
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:DateOfDeparture) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.DateOfDeparture">
                                <small class="label label-sm label-default">{{(user.DateOfDeparture|date:"dd/MM/yyyy")}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:Poste) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.Poste">
                                <small class="label label-sm label-default">{{user.Poste}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:JobDescription) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.JobDescription">
                                <small class="label label-sm label-default">{{user.JobDescription}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:TypeOfContract) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.TypeOfContract">
                                <small class="label label-sm label-default">{{user.TypeOfContract}}</small>
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:TrialPeriod) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.TrialPeriod">
                                <small class="label label-sm label-default">{{user.TrialPeriod}}</small>
                            </span>
                        </div>
                    </div>  

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:GrossSalary) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.GrossSalary">
                                <small class="label label-sm label-default">{{user.GrossSalary}}</small>
                            </span>
                        </div>
                    </div> 

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:TimeWork) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.TimeWork">
                                <small class="label label-sm label-default">{{user.TimeWork}}</small>
                            </span>
                        </div>
                    </div> 
                </div>
            </div>   

            <div class="portlet gen">

                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-user"></i>@(users:Formations)
                    </div>
                </div>

                <div class="portlet-body">
                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:Classes) :</div>
                        <div class="col-md-8 value">
                            <span class="blue h5" editable-text="user.Classes">
                                {{user.Classes}}
                            </span>
                        </div>
                    </div>

                    <div class="row static-info">
                        <div class="col-md-4 name">@(users:DateOfClasses) :</div>
                        <div class="col-md-4 value">
                            <span class="blue h5" editable-text="user.DateOfClasses">
                                <small class="label label-sm label-default">{{user.DateOfClasses}}</small>
                            </span>
                        </div>
                    </div>
                </div>            
            </div> 
        </form>        
    </div>
    
    <form editable-form name="noteDesc" onaftersave="update()">
            <div class="col-md-8">
                <div class="portlet">
                    <div class="portlet-title">
                        <div class="caption font-green-sharp">
                            <i class="icon-speech"></i>
                            <span class="caption-subject">@(Notes)</span>
                        </div>
                        <div class="actions">
                            <a href="javascript:;" ng-click="noteDesc.$show()" ng-show="!noteDesc.$visible && editable" class="btn btn-default btn-sm">
                                <i class="fa fa-pencil"></i> Éditer </a>
                        </div>
                        <div class="actions ng-hide" ng-show="noteDesc.$visible">
                            <button type="submit" ng-disabled="noteDesc.$waiting" class="btn btn-default btn-sm">Enregistrer</button>
                            <button type="button" ng-disabled="noteDesc.$waiting" ng-click="noteDesc.$cancel()" class="btn btn-default btn-sm">Annuler</button>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <pre editable-textarea="user.description" e-name="note" e-rows="6" e-cols="400" e-required e-class="form-control"></pre>
                        <pre class="well"  ng-show="!noteDesc.$visible">{{user.description}}</pre>

                    </div>
                </div>
            </div>
        </form>
</div>