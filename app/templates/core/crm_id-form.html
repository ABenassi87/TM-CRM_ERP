<script type="text/ng-template" id="searchcompany.html">
    <a>
        <span ng-bind-html="match.model.salesPurchases.ref | typeaheadHighlight:query"></span> - <span ng-bind-html="match.model.fullName"></span>
    </a>
</script>

<div class="form-group form-md-line-input" ng-class="{'has-error':$error, 'has-success': !$error}">
    <div class="input-group typeahead">
        <div class="input-group-control">
            <input class="form-control" ng-model="model" id="{{name}}" name="{{name}}" ng-required="required" typeahead="data as data.fullName for data in AutoComplete($viewValue, url, entity ) | filter:{fullName:$viewValue}" typeahead-on-select="onSelect($item)" typeahead-template-url="searchcompany.html"
                placeholder="{{placeholder}}" type="text" autocomplete="off" />
            <label for="{{name}}">{{label}} :</label>
        </div>
        <span class="input-group-btn btn-right"><button class="btn" ng-class="{'btn-danger':$error, 'btn-success': !$error}" ng-disabled="$error" type="button" ui-sref="societe.show({id:model._id})"><span ng-hide="$error">Go!</span><i ng-show="$error" class="fa fa-warning"></i></button></span>
    </div>
</div>